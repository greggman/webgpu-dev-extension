{"version":3,"file":"show-redundant-state-setting.js","sources":["../../node_modules/webgpu-avoid-redundant-state-setting/webgpu-avoid-redundant-state-setting.js","../../src/lib/device.ts","../../src/lib/raf.ts","../../src/lib/html.ts","../../src/scripts/show-redundant-state-setting.ts"],"sourcesContent":["/**\n * @typedef {Object} RedundantCalls\n * @property {number} setPipeline\n * @property {number} setVertexBuffer\n * @property {number} setIndexBuffer\n * @property {number} setBindGroup\n * @property {number} setViewport\n * @property {number} setScissorRect\n * @property {number} setBlendConstant\n * @property {number} setStencilReference\n */\nconst redundantCalls = {\n  setPipeline: 0,\n  setVertexBuffer: 0,\n  setIndexBuffer: 0,\n  setBindGroup: 0,\n  setViewport: 0,\n  setScissorRect: 0,\n  setBlendConstant: 0,\n  setStencilReference: 0,\n};\n\n/**\n * \n * @returns RedundantCalls\n */\nexport function getAndResetRedundantCallInfo() {\n  const info = {...redundantCalls};\n\n  redundantCalls.setPipeline = 0;\n  redundantCalls.setVertexBuffer = 0;\n  redundantCalls.setIndexBuffer = 0;\n  redundantCalls.setBindGroup = 0;\n  redundantCalls.setViewport = 0;\n  redundantCalls.setScissorRect = 0;\n  redundantCalls.setBlendConstant = 0;\n  redundantCalls.setStencilReference = 0;\n\n  return info;\n}\n\nif (typeof GPUDevice !== 'undefined') {\n\n  // Is this premature optimization?\n  const freePassEncoderState = [];\n  const passEncoderToStateMap = new Map();\n  const bindGroupLayoutToNumDynamicOffsetsMap = new WeakMap();\n  const numDynamicOffsetsSym = Symbol('numDynamicOffsets');\n\n  class RenderPassState {\n    vertexState = [];\n    bindGroupState = [];\n    indexState = {};\n    currentPipeline = undefined;\n    viewport = [-1, -1, -1, -1, -1, -1];\n    scissor = [-1, -1, -1, -1];\n    blendConstant = [0, 0, 0, 0];\n    stencilReference = 0;\n\n    resetForExecuteBundles() {\n      this.vertexState.length = 0;\n      this.bindGroupState.length = 0;\n      this.indexState.buffer = null;\n      this.currentPipeline = null;\n      return this;\n    }\n    reset() {\n      this.resetForExecuteBundles();\n      this.viewport = [-1, -1, -1, -1, -1, -1];\n      this.scissor = [-1, -1, -1, -1];\n      this.blendConstant = [0, 0, 0, 0];\n      this.stencilReference = 0;\n      return this;\n    }\n  }\n\n  function normalizeColor(c) {\n    return c.r === undefined\n       ? c\n       : [c.r, c.g, c.b, c.a];\n  }\n\n  function getPassEncoderState() {\n    if (freePassEncoderState.length === 0) {\n      freePassEncoderState.push(new RenderPassState());\n    }\n    return freePassEncoderState.pop().reset();\n  }\n\n  function arrayEquals(a, b) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (let i = 0; i < a.length; ++i) {\n      if (a[i] !== b[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  function wrapFn(ctor, name, fn) {\n    ctor.prototype[name] = fn(ctor.prototype[name]);\n  }\n\n  wrapFn(GPUCommandEncoder, 'beginComputePass', function(origFn) {\n    return function(...args) {\n      const pass = origFn.call(this, ...args);\n      passEncoderToStateMap.set(pass, getPassEncoderState());\n      return pass;\n    };\n  })\n\n  wrapFn(GPUCommandEncoder, 'beginRenderPass', function(origFn) {\n    return function(...args) {\n      const pass = origFn.call(this, ...args);\n      // TODO: We should try to set viewport and scissor from colorAttachments/depthStencilAttachment\n      // but those only have textureViews and so we'd need to keep a map of views to textures.\n      // I expect viewport and scissor are not set often so this seems overkill.\n      passEncoderToStateMap.set(pass, getPassEncoderState());\n      return pass;\n    };\n  })\n\n  wrapFn(GPUCommandEncoder, 'executeBundles', function(origFn) {\n    return function(...args) {\n      passEncoderToStateMap.get(this).resetForExecuteBundles();\n      origFn.call(this, ...args);\n    };\n  });\n\n  wrapFn(GPUDevice, 'createBindGroupLayout', function(origFn) {\n    return function(desc) {\n      const layout = origFn.call(this, desc);\n      let numDynamicOffsets = 0;\n      for (const entry of desc.entries) {\n        numDynamicOffsets += entry.buffer?.hasDynamicOffset ? 1 : 0;\n      }\n      bindGroupLayoutToNumDynamicOffsetsMap.set(layout, numDynamicOffsets)\n      return layout;\n    };\n  });\n\n  wrapFn(GPUDevice, 'createBindGroup', function(origFn) {\n    return function(desc) {\n      const bg = origFn.call(this, desc);\n      bg[numDynamicOffsetsSym] = bindGroupLayoutToNumDynamicOffsetsMap.get(desc.layout);\n      return bg;\n    };\n  });\n\n  function getDynamicOffsetsLength(bindGroup, length) {\n    // the bindGroup was layout 'auto';\n    const numDynamicOffsets = bindGroup[numDynamicOffsetsSym];\n    if (numDynamicOffsetsSym === undefined) {\n      return 0;\n    }\n    return length === undefined\n       ? numDynamicOffsets\n       : Math.min(length, numDynamicOffsets);\n  }\n\n  function ASSERT(cond) {\n    if (!cond) {\n      debugger;\n      throw new Error('assert');\n    }\n  }\n\n  function bindGroupSame(cachedBindGroup, bindGroup, dynamicOffsets, start, length) {\n    if (!cachedBindGroup || cachedBindGroup.bindGroup !== bindGroup) {\n      return false;\n    };\n    if (!dynamicOffsets && !cachedBindGroup.dynamicOffsets) {\n      return true;\n    }\n    const cachedDynamicOffsets = cachedBindGroup.dynamicOffsets;\n    ASSERT(bindGroup[numDynamicOffsetsSym] !== undefined);\n    length = getDynamicOffsetsLength(bindGroup, length)\n    if (length !== cachedDynamicOffsets.length) {\n      return false;\n    }\n    start = start || 0;\n    for (let i = 0; i < length; ++i) {\n      if (dynamicOffsets[start + i] !== cachedDynamicOffsets[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  function dupOffsets(offsets, start, length, bindGroup) {\n    length = getDynamicOffsetsLength(bindGroup, length)\n    if (Array.isArray(offsets)) {\n      return offsets.slice(0, length);\n    }\n    if (offsets instanceof Uint32Array) {\n      return offsets.slice(start || 0, length);\n    }\n    return offsets;\n  }\n\n  const setPipelineWrapper = function(origFn) {\n    return function(pipeline) {\n      const state = passEncoderToStateMap.get(this);\n      if (state.currentPipeline !== pipeline) {\n        state.currentPipeline = pipeline;\n        origFn.call(this, pipeline);\n      } else {\n        ++redundantCalls.setPipeline;\n      }\n    };\n  };\n  wrapFn(GPURenderPassEncoder, 'setPipeline', setPipelineWrapper);\n  wrapFn(GPUComputePassEncoder, 'setPipeline', setPipelineWrapper);\n\n  const setBindGroupWrapper = function(origFn) {\n    return function(ndx, ...args) {\n      const [bindGroup, dynamicOffsets, start, length] = args;\n      const {bindGroupState} = passEncoderToStateMap.get(this);\n      if (!bindGroupSame(bindGroupState[ndx], bindGroup, dynamicOffsets, start, length)) {\n        bindGroupState[ndx] = {bindGroup, dynamicOffsets: dupOffsets(dynamicOffsets, start, length, bindGroup), start, length};\n        origFn.call(this, ndx, ...args);\n      } else {\n        ++redundantCalls.setBindGroup;\n      }\n    };\n  }\n  wrapFn(GPURenderPassEncoder, 'setBindGroup', setBindGroupWrapper);\n  wrapFn(GPUComputePassEncoder, 'setBindGroup', setBindGroupWrapper);\n\n  wrapFn(GPURenderPassEncoder, 'setViewport', function(origFn) {\n    return function(...args) {\n      const state = passEncoderToStateMap.get(this);\n      if (!arrayEquals(state.viewport, args)) {\n        state.viewport = args.slice();\n        origFn.call(this, ...args);\n      } else {\n        ++redundantCalls.setViewport;\n      }\n    };\n  });\n\n  wrapFn(GPURenderPassEncoder, 'setScissorRect', function(origFn) {\n    return function(...args) {\n      const state = passEncoderToStateMap.get(this);\n      if (!arrayEquals(state.scissor, args)) {\n        state.scissor = args.slice();\n        origFn.call(this, ...args);\n      } else {\n        ++redundantCalls.setScissorRect;\n      }\n    };\n  });\n\n  wrapFn(GPURenderPassEncoder, 'setBlendConstant', function(origFn) {\n    return function(newColor) {\n      const state = passEncoderToStateMap.get(this);\n      const color = normalizeColor(newColor);\n      if (!arrayEquals(state.blendConstant, color)) {\n        state.blendConstant = color.slice();\n        origFn.call(this, newColor);\n      } else {\n        ++redundantCalls.setBlendConstant;\n      }\n    };\n  });\n\n  wrapFn(GPURenderPassEncoder, 'setStencilReference', function(origFn) {\n    return function(newRef) {\n      const state = passEncoderToStateMap.get(this);\n      if (state.stencilReference !== newRef) {\n        state.stencilReference = newRef;\n        origFn.call(this, newRef);\n      } else {\n        ++redundantCalls.setStencilReference;\n      }\n    };\n  });\n\n  function vertexBufferSame(v, buffer, offset, size) {\n    return v && v.buffer === buffer && v.offset === (offset || 0) && v.size === (size === undefined ? buffer.size : size);\n  }\n\n  wrapFn(GPURenderPassEncoder, 'setVertexBuffer', function(origFn) {\n    return function(ndx, ...args) {\n      const [buffer, offset, size] = args;\n      const {vertexState} = passEncoderToStateMap.get(this);\n      if (!vertexBufferSame(vertexState[ndx], buffer, offset, size)) {\n        vertexState[ndx] = {buffer, offset: offset || 0, size: size === undefined ? buffer.size : size};\n        origFn.call(this, ndx, ...args);\n      } else {\n        ++redundantCalls.setVertexBuffer;\n      }\n    };\n  });\n\n  wrapFn(GPURenderPassEncoder, 'setIndexBuffer', function(origFn) {\n    return function(...args) {\n      let [buffer, format, offset, size] = args;\n      const {indexState} = passEncoderToStateMap.get(this);\n      offset = offset || 0;\n      size = size === undefined\n         ? buffer.size - offset\n         : size;\n      if (buffer !== indexState.buffer ||\n          format !== indexState.format ||\n          offset !== indexState.offset ||\n          size !== indexState.size) {\n        indexState.buffer = buffer;\n        indexState.format = format;\n        indexState.offset = offset;\n        indexState.size = size;\n        origFn.call(this, ...args);\n      } else {\n        ++redundantCalls.setIndexBuffer;\n      }\n    };\n  });\n\n  const endWrapper = function(origFn) {\n    return function(...args) {\n      const state = passEncoderToStateMap.get(this);\n      passEncoderToStateMap.delete(this);\n      freePassEncoderState.push(state.reset());\n      return origFn.call(this, ...args);\n    };\n  };\n  wrapFn(GPURenderPassEncoder, 'end', endWrapper);\n  wrapFn(GPUComputePassEncoder, 'end', endWrapper);\n\n}\n","\n\nexport function callbackWhenDevicesGoFrom0to1Or1To0(callback: (haveDevice: boolean) => void) {\n  const s_deviceRefs: WeakRef<GPUDevice>[] = [];\n\n  function removeGCed() {\n    const refs = s_deviceRefs.filter(ref => !!ref.deref());\n    s_deviceRefs.length = 0;\n    s_deviceRefs.push(...refs);\n  }\n\n  function checkDevices() {\n    removeGCed();\n    update();\n  }\n\n  let intervalId: number | undefined;\n  function update() {\n    removeGCed();\n\n    if (!intervalId) {\n      if (s_deviceRefs.length > 0) {\n        intervalId = setInterval(checkDevices, 1000);\n        callback(true);\n      }\n    } else {\n      if (s_deviceRefs.length === 0) {\n        clearInterval(intervalId);\n        intervalId = undefined;\n        callback(false);\n      }\n    }\n  }\n\n  GPUAdapter.prototype.requestDevice = (function(origFn) {\n    return async function(this: GPUAdapter, ...args) {\n      const device = await origFn.call(this, ...args);\n      if (device) {\n        s_deviceRefs.push(new WeakRef(device));\n        update();\n      }\n      return device;\n    };\n  })(GPUAdapter.prototype.requestDevice)\n\n  GPUDevice.prototype.destroy = (function(origFn) {\n    return function(this: GPUDevice) {\n      origFn.call(this);\n      const device = this;\n      const ndx = s_deviceRefs.findIndex(ref => ref.deref() === device);\n      s_deviceRefs.splice(ndx, 0);\n      update();\n    }\n  })(GPUDevice.prototype.destroy);\n}","\nimport { callbackWhenDevicesGoFrom0to1Or1To0 } from '../lib/device.js';\n\nexport function rafCallbackWhenDevicesExist(callback: () => void) {\n  let running: boolean;\n  let rafId: number | undefined;\n\n  function updateAndResetCount() {\n    rafId = undefined;\n\n    callback();\n\n    if (running) {\n      startRaf();\n    }\n  }\n\n  function startRaf() {\n    if (!rafId) {\n      rafId = requestAnimationFrame(updateAndResetCount);\n    }\n  }\n\n  function stopRaf() {\n    if (rafId) {\n      cancelAnimationFrame(rafId);\n      rafId = undefined;\n    }\n  }\n\n  callbackWhenDevicesGoFrom0to1Or1To0((haveDevices) => {\n    if (haveDevices) {\n      running = true;\n      startRaf();\n    } else {\n      stopRaf()\n    }\n  });\n\n}","\nexport function addElementToWebgpuDevExtension(elem: HTMLElement) {\n  const webgpuDevExtensionElemId = 'webgpu-dev-extension';\n  let webgpuDevExtensionElem = document.getElementById(webgpuDevExtensionElemId);\n  if (!webgpuDevExtensionElem) {\n    webgpuDevExtensionElem = document.createElement('div');\n    webgpuDevExtensionElem.id = webgpuDevExtensionElemId;\n\n    Object.assign(webgpuDevExtensionElem.style, {\n      margin: '0',\n      padding: '0.25em',\n      fontSize: '8px',\n      fontFamily: 'monospace',\n      color: '#fff',\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      position: 'fixed',\n      left: '0',\n      bottom: '0',\n      zIndex: 1000000,\n    });\n\n\n    document.documentElement.append(webgpuDevExtensionElem);\n  }\n  webgpuDevExtensionElem.append(elem);\n}\n\ntype EventHandler = (...args: any) => any;\ntype JsonMLAttributeValue = string | number | boolean | null | JsonMLAttributes | EventHandler | undefined;\ninterface JsonMLAttributes {\n    [key: string]: JsonMLAttributeValue;\n}\ntype JsonMLTagName = string;\ntype JsonMLTextNode = string;\ntype JsonMLChild = JsonMLElement | JsonMLTextNode | Node;\n\ntype JsonMLElement =\n    | [JsonMLTagName] // Matches structure 1\n    | [JsonMLTagName, JsonMLAttributes] // Matches structure 2\n    | [JsonMLTagName, JsonMLAttributes, ...JsonMLChild[]] // Matches structure 3\n    | [JsonMLTagName, ...JsonMLChild[]] // Matches structure 4\n    | [Node]\n    ;\n\n//type JsonML = JsonMLElement | JsonMLTextNode | JsonMLChild[];\n\n/**\n * Implements JsonML *like* element creation (http://www.jsonml.org/)\n *\n * The major difference is this takes event handlers for `on` functions\n * and supports nested attributes? Also allows elements.\n */\nexport function makeElem(elemSpec: JsonMLElement) {\n  const tag = elemSpec[0];\n  if (tag instanceof Node) {\n    return tag;\n  }\n  const elem = document.createElement(tag);\n\n  let firstChildNdx = 1;\n  const firstChild = elemSpec[1];\n  // Check if it's attributes\n  if (!(firstChild instanceof Node) && typeof firstChild !== 'string' && !Array.isArray(firstChild)) {\n    firstChildNdx = 2;\n    const attributes = firstChild as JsonMLAttributes;\n    for (const [key, value] of Object.entries(attributes)) {\n      if (typeof value === 'function' && key.startsWith('on')) {\n        const eventName = key.substring(2).toLowerCase();\n        elem.addEventListener(eventName, value, {passive: false});\n      } else if (typeof value === 'object') {\n        for (const [k, v] of Object.entries(value as JsonMLAttributes)) {\n          // @ts-expect-error just do it!\n          elem[key][k] = v;\n        }\n      // @ts-expect-error just do it!\n      } else if (elem[key] === undefined) {\n        elem.setAttribute(key, value as string);\n      } else {\n        // @ts-expect-error just do it!\n        elem[key] = value;\n      }\n    }\n  }\n\n  for (let ndx = firstChildNdx; ndx < elemSpec.length; ++ndx) {\n    const v = elemSpec[ndx];\n    if (typeof v === 'string') {\n      elem.appendChild(document.createTextNode(v));\n    } else if (v instanceof Node) {\n      elem.appendChild(v);\n    } else {\n      elem.appendChild(makeElem(v as JsonMLElement));\n    }\n  }\n  return elem;\n}","import { getAndResetRedundantCallInfo } from 'webgpu-avoid-redundant-state-setting';\nimport { rafCallbackWhenDevicesExist } from '../lib/raf.js';\nimport { addElementToWebgpuDevExtension } from '../lib/html.js';\n\n// eslint-disable-next-line valid-typeof\nif (typeof GPUAdapter !== undefined) {\n  console.log('webgpu-dev-extension: show-redundant-state-setting');\n\n  const getElements = (() => {\n    let baseElem: HTMLElement;\n    let summaryElem: HTMLElement;\n    let infoElem: HTMLElement;\n    let summaryContentElem: HTMLElement;\n\n    return function () {\n      if (!baseElem) {\n        baseElem = document.createElement('details');\n        summaryElem = document.createElement('summary');\n        infoElem = document.createElement('pre');\n        summaryContentElem = document.createElement('span');\n        Object.assign(summaryContentElem.style, {\n          cursor: 'pointer',\n        });\n\n        baseElem.append(summaryElem);\n        baseElem.append(infoElem);\n        summaryElem.append(summaryContentElem);\n\n        addElementToWebgpuDevExtension(baseElem);\n      }\n\n      return {\n        infoElem,\n        summaryContentElem,\n      };\n    };\n  })();\n\n  rafCallbackWhenDevicesExist(() => {\n    const info = getAndResetRedundantCallInfo();\n    let total = 0;\n    const counts = Object.entries(info).map(([name, count]) => {\n      total += count;\n      return `${name}: ${count}`;\n    });\n\n    const { infoElem, summaryContentElem } = getElements();\n    infoElem.textContent = counts.join('\\n');\n    summaryContentElem.textContent = `redundant state call count: ${total}`;\n\n  });\n}\n"],"names":[],"mappings":"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","x_google_ignoreList":[0]}