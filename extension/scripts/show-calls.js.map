{"version":3,"file":"show-calls.js","sources":["../../src/scripts/show-calls.js"],"sourcesContent":["if (typeof GPUDevice !== 'undefined') {\n  function addShowWrapper(API, apiName, methodName, origFn) {\n    const name = `${apiName}.${methodName}`;\n    // Set disable (in devtools) to true to disable this specific method breakpoint\n    API.prototype[methodName] = function(...args) {\n      console.log(name);\n      return origFn.call(this, ...args);\n    };\n  }\n\n  const APIs = [\n    GPU,\n    GPUAdapter,\n    GPUBuffer,\n    GPUCanvasContext,\n    GPUCommandEncoder,\n    GPUComputePassEncoder,\n    GPUDevice,\n    GPUQueue,\n    GPUQuerySet,\n    GPURenderBundleEncoder,\n    GPURenderPassEncoder,\n    GPUTexture,\n  ];\n\n  for (const API of APIs) {\n    const apiName = API.prototype.constructor.name;\n    const prototype = API.prototype;\n    const methodNames = Object.entries(Object.getOwnPropertyDescriptors(prototype))\n        .filter(([k, v]) => v.writable && v.enumerable && v.configurable && typeof v.value === 'function')\n        .map(([k]) => k);\n    for (const name of methodNames) {\n      addShowWrapper(API, apiName, name, API.prototype[name]);\n    }\n  }\n}\n\ndocument.currentScript?.remove();\n"],"names":[],"mappings":";;;;EAAA,IAAI,OAAO,SAAS,KAAK,WAAW,EAAE;EACtC,EAAE,SAAS,cAAc,CAAC,GAAG,EAAE,OAAO,EAAE,UAAU,EAAE,MAAM,EAAE;EAC5D,IAAI,MAAM,IAAI,GAAG,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,UAAU,CAAC,CAAC;EAC3C;EACA,IAAI,GAAG,CAAC,SAAS,CAAC,UAAU,CAAC,GAAG,SAAS,GAAG,IAAI,EAAE;EAClD,MAAM,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC;EACvB,MAAM,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC;EACvC,KAAK;EACL;;EAEA,EAAE,MAAM,IAAI,GAAG;EACf,IAAI,GAAG;EACP,IAAI,UAAU;EACd,IAAI,SAAS;EACb,IAAI,gBAAgB;EACpB,IAAI,iBAAiB;EACrB,IAAI,qBAAqB;EACzB,IAAI,SAAS;EACb,IAAI,QAAQ;EACZ,IAAI,WAAW;EACf,IAAI,sBAAsB;EAC1B,IAAI,oBAAoB;EACxB,IAAI,UAAU;EACd,GAAG;;EAEH,EAAE,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE;EAC1B,IAAI,MAAM,OAAO,GAAG,GAAG,CAAC,SAAS,CAAC,WAAW,CAAC,IAAI;EAClD,IAAI,MAAM,SAAS,GAAG,GAAG,CAAC,SAAS;EACnC,IAAI,MAAM,WAAW,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,yBAAyB,CAAC,SAAS,CAAC;EAClF,SAAS,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,QAAQ,IAAI,CAAC,CAAC,UAAU,IAAI,CAAC,CAAC,YAAY,IAAI,OAAO,CAAC,CAAC,KAAK,KAAK,UAAU;EACzG,SAAS,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;EACxB,IAAI,KAAK,MAAM,IAAI,IAAI,WAAW,EAAE;EACpC,MAAM,cAAc,CAAC,GAAG,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;EAC7D;EACA;EACA;;EAEA,QAAQ,CAAC,aAAa,EAAE,MAAM,EAAE;;;;;;"}